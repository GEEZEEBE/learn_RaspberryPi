<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>WebIOPi | Light Control</title>
    <script type="text/javascript" src="/webiopi.js"></script>
    <script type="text/javascript">
    var pin = 4;
    var value = 0;

    webiopi().ready(function() {
        // Create a "Light" labeled button for GPIO 17
        // Refresh GPIO buttons
        // pass true to refresh repeatedly of false to refresh once
		webiopi().setFunction(pin, "OUT");
        webiopi().refreshGPIO(true);
    });
    
	function clickButton(){
		var status = webiopi().digitalRead(pin);
		if(status){
			webiopi().digitalWrite(pin, 0);
			$("#bottonImage").attr("src", "clickOn.png" )
		} else {
			webiopi().digitalWrite(pin, 1);
			$("#bottonImage").attr("src", "clickOff.png" )
		}			
	}
    </script>
</head>
<body>
    <img id="bottonImage" src="clickOff.png" onClick="clickButton()"/>
</body>
</html>
